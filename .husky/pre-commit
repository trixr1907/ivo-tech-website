#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Pre-commit checks
echo "🔍 Running pre-commit checks..."

# 1. Lint
echo "📋 Running linter..."
pnpm lint || (echo "❌ Lint failed" && exit 1)

# 2. Type check
echo "🔧 Running type check..."
pnpm check-types || (echo "❌ Type check failed" && exit 1)

# 3. Tests (fast unit tests only, skip E2E)
echo "🧪 Running tests..."
pnpm turbo run test --filter="*" --parallel || (echo "❌ Tests failed" && exit 1)

echo "✅ All pre-commit checks passed!"
