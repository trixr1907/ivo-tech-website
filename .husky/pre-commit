#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Pre-commit checks
echo "ğŸ” Running pre-commit checks..."

# 1. Lint
echo "ğŸ“‹ Running linter..."
pnpm lint || (echo "âŒ Lint failed" && exit 1)

# 2. Type check
echo "ğŸ”§ Running type check..."
pnpm check-types || (echo "âŒ Type check failed" && exit 1)

# 3. Tests (fast unit tests only, skip E2E)
echo "ğŸ§ª Running tests..."
pnpm turbo run test --filter="*" --parallel || (echo "âŒ Tests failed" && exit 1)

echo "âœ… All pre-commit checks passed!"
